class <%= @controller_name.capitalize %>Controller < RestedController
  get "/?" do
    <%= @controller_name.downcase %> = <%= @controller_name.capitalize %>.all
    #to_xml(<%= @controller_name.downcase %>)
	to_html(:index)
  end

  get "/:id" do
    <%= @controller_name.downcase %> = <%= @controller_name.capitalize %>.get(params[:id])
    #to_xml(<%= @controller_name.downcase %>)
	to_html(:show)
  end

  post "/?" do
    <%= @controller_name.downcase %> = <%= @controller_name.capitalize %>.new
    <%= @controller_name.downcase %>.attributes = params
    <%= @controller_name.downcase %>.save
    to_xml(<%= @controller_name.downcase %>)
	to_html(:show)
  end

  put "/:id" do
    <%= @controller_name.downcase %> = <%= @controller_name.capitalize %>.get(params[:id])
    <%= @controller_name.downcase %>.update(params)
    to_xml(<%= @controller_name.downcase %>)
	to_html(:show)
  end

  delete "/:id" do
    <%= @controller_name.downcase %> = <%= @controller_name.capitalize %>.get(params[:id])
    <%= @controller_name.downcase %>.destroy!
    to_xml(<%= @controller_name.downcase %>)
	to_html(:index)
  end
end